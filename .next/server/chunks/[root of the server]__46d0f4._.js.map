{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://D%3A/shopify_new%20-%202-14-25/shopify_new/my-app/src/app/api/products/link/route.js"],"sourcesContent":["// src/app/api/products/link/route.js\r\n\r\n\r\n// export async function GET() {\r\n//   return NextResponse.json({ message: \"https://your-shopify-store.com/products\" });\r\n// }\r\n\r\n\r\n// // src\\app\\api\\products\\link\\route.js\r\n// import { NextResponse } from \"next/server\";\r\n// import { cookies } from \"next/headers\";\r\n// export async function GET(request) { // Accept `request` as a parameter\r\n//   // Get `shop` and `hmac` from cookies\r\n//   const cookieStore = cookies();\r\n//   const shop = cookieStore.get(\"shop\")?.value || \"\";\r\n//   const hmac = cookieStore.get(\"hmac\")?.value || \"\";\r\n//   // Extract `host` from the request's search parameters\r\n//   const { searchParams } = new URL(request.url);\r\n//   const host1 = searchParams.get(\"host\");\r\n//   // Get `host` from .env\r\n//   const host = process.env.NEXT_PUBLIC_HOST;\r\n//   if (!shop || !hmac) {\r\n//     return NextResponse.json({ error: \"Missing shop or hmac\" }, { status: 400 });\r\n//   }\r\n//   // Construct the URL\r\n//   const redirectUrl = `${host}/products?host=${host1}&shop=${shop}&hmac=${hmac}`;\r\n//   return NextResponse.json({ message: redirectUrl });\r\n// }\r\n\r\nimport { NextResponse } from \"next/server\";\r\nimport { cookies } from \"next/headers\";\r\n\r\nexport async function GET(request) {\r\n  // Get cookies\r\n  const cookieStore = cookies();\r\n  const shop = cookieStore.get(\"shop\")?.value || \"\";\r\n  const hmac = cookieStore.get(\"hmac\")?.value || \"\";\r\n\r\n  // Extract `host` safely\r\n  const url = new URL(request.url, process.env.NEXT_PUBLIC_HOST);\r\n  const host1 = url.searchParams.get(\"host\");\r\n\r\n  // Get `host` from .env\r\n  const host = process.env.NEXT_PUBLIC_HOST;\r\n\r\n  if (!shop || !hmac) {\r\n    return NextResponse.json({ error: \"Missing shop or hmac\" }, { status: 400 });\r\n  }\r\n\r\n  // Construct the redirect URL\r\n  const redirectUrl = `${host}/products?host=${host1}&shop=${shop}&hmac=${hmac}`;\r\n  \r\n  return NextResponse.json({ message: redirectUrl });\r\n}\r\n\r\n\r\n// https://95f1-223-185-56-236.ngrok-free.app/products?host=YWRtaW4uc2hvcGlmeS5jb20vc3RvcmUvbmV3dGVzdHN0b3JlNTY&shop=newteststore56.myshopify.com&hmac=3bfc8cc15c5caaac9eb8e3bf8dba8cfaf5e39e9a0ab0c859a1594ecfccca1d14\r\n// https://95f1-223-185-56-236.ngrok-free.app/products&shop=newteststore56.myshopify.com&hmac=3bfc8cc15c5caaac9eb8e3bf8dba8cfaf5e39e9a0ab0c859a1594ecfccca1d14\r\n// https://${hostWithoutProtocol}/products?host=${host}&shop=${shop}&hmac=${hmac}\r\n// 3bfc8cc15c5caaac9eb8e3bf8dba8cfaf5e39e9a0ab0c859a1594ecfccca1d14"],"names":[],"mappings":"AAAA,qCAAqC;AAGrC,gCAAgC;AAChC,sFAAsF;AACtF,IAAI;AAGJ,wCAAwC;AACxC,8CAA8C;AAC9C,0CAA0C;AAC1C,0EAA0E;AAC1E,0CAA0C;AAC1C,mCAAmC;AACnC,uDAAuD;AACvD,uDAAuD;AACvD,2DAA2D;AAC3D,mDAAmD;AACnD,4CAA4C;AAC5C,4BAA4B;AAC5B,+CAA+C;AAC/C,0BAA0B;AAC1B,oFAAoF;AACpF,MAAM;AACN,yBAAyB;AACzB,oFAAoF;AACpF,wDAAwD;AACxD,IAAI;;;;AAEJ;AACA;;;AAEO,eAAe,IAAI,OAAO;IAC/B,cAAc;IACd,MAAM,cAAc,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAC1B,MAAM,OAAO,YAAY,GAAG,CAAC,SAAS,SAAS;IAC/C,MAAM,OAAO,YAAY,GAAG,CAAC,SAAS,SAAS;IAE/C,wBAAwB;IACxB,MAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;IAC/B,MAAM,QAAQ,IAAI,YAAY,CAAC,GAAG,CAAC;IAEnC,uBAAuB;IACvB,MAAM;IAEN,IAAI,CAAC,QAAQ,CAAC,MAAM;QAClB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;IAEA,6BAA6B;IAC7B,MAAM,cAAc,GAAG,KAAK,eAAe,EAAE,MAAM,MAAM,EAAE,KAAK,MAAM,EAAE,MAAM;IAE9E,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,SAAS;IAAY;AAClD,EAGA,uNAAuN;CACvN,8JAA8J;CAC9J,iFAAiF;CACjF,mEAAmE"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}